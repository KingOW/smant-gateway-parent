//订单总表
CREATE TABLE `orden_total` (
  `id` varchar(32) NOT NULL COMMENT '总单表主键id',
  `orden_total_no` varchar(32) DEFAULT NULL COMMENT '总单号',
  `customerid` varchar(32) DEFAULT NULL COMMENT '客户id',
  `factory_price` decimal(10,2) DEFAULT NULL COMMENT '总单出厂价格',
  `sell_price` decimal(10,2) DEFAULT NULL COMMENT '总单销售价格',
  `status` varchar(10) DEFAULT NULL COMMENT '总单状态',
  `create_by` varchar(32) DEFAULT NULL COMMENT '创建人',
  `create_time` varchar(32) DEFAULT NULL COMMENT '总单创建时间(也是等待店长审核日期)',
  `submit_time` varchar(32) DEFAULT NULL COMMENT '总单提交时间（等待跟单员审核日期）',
  `is_reject` varchar(2) DEFAULT NULL COMMENT '是否研发驳回',
  `reason` varchar(1000) DEFAULT NULL COMMENT '驳回原因',
  `reject_time` varchar(32) DEFAULT NULL COMMENT '研发驳回时间',
  `rjsy_ratio` decimal(10,2) DEFAULT NULL COMMENT '如鱼得水比例',
  `ryt_ratio` decimal(10,2) DEFAULT NULL COMMENT '如鱼图比例',
  `s_supplier_status` varchar(255) DEFAULT NULL COMMENT '供应商状态',
  `dt_supplier_modify` varchar(32) DEFAULT NULL COMMENT '供应商状态更新时间',
  `dt_approval_date` datetime DEFAULT NULL COMMENT '跟单审核日期',
  `type` varchar(10) DEFAULT NULL COMMENT '类型（orderType普通01、首批02、二次换样03、点样04）',
  `bulk` tinyint(1) DEFAULT '0' COMMENT '大宗业务1是0否',
  `mmsj` tinyint(1) DEFAULT '0' COMMENT '明码实价1是0否',
  `e_source_type` tinyint(1) DEFAULT NULL COMMENT '1手机点样、2系统补足',
  `s_yj_ht` varchar(255) DEFAULT NULL COMMENT '云锦合同单号',
  `b_push_lc` tinyint(1) DEFAULT '0' COMMENT '是否推送量尺服务系统:0未推送 1已推制作中 2待安装',
  `s_delivery_address` varchar(255) DEFAULT NULL COMMENT '提交时发货地址',
  `s_cust_name` varchar(100) DEFAULT NULL COMMENT '提交时客户姓名',
  `fk_franchisee_delivery_id` int(11) DEFAULT NULL COMMENT '门店收货地址信息id,购物车提交时生成,据此生成收货地址',
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT COMMENT='总单表';

//订单表
CREATE TABLE `orden` (
  `id` varchar(32) NOT NULL COMMENT '订单表主键id',
  `total_id` varchar(32) DEFAULT NULL COMMENT '总单表主键id',
  `orden_no` varchar(50) DEFAULT NULL COMMENT '订单号',
  `sys_code` varchar(32) DEFAULT NULL COMMENT '生产单号',
  `brand` varchar(10) DEFAULT NULL COMMENT '品牌（01如鱼得水 02溢彩）',
  `code` varchar(100) DEFAULT NULL COMMENT '款式编码（针对看图\\成品\\物料物资）',
  `goods_name` varchar(100) DEFAULT NULL COMMENT '商品名称',
  `customer_id` varchar(32) DEFAULT NULL COMMENT '客户id',
  `order_type` varchar(10) DEFAULT NULL COMMENT '下单方式（orderWay速配下单、成品套、成品米、自主设计、代码下单。。。QB）',
  `room` varchar(100) DEFAULT NULL COMMENT '房间号',
  `category_id` varchar(32) DEFAULT NULL COMMENT '产品类别(goodsType外帘、内帘。)',
  `create_by` varchar(32) DEFAULT NULL COMMENT '创建人(当前登录者id)',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  `amount` int(11) DEFAULT NULL COMMENT '数量',
  `factory_price` decimal(10,2) DEFAULT NULL COMMENT '订单出厂价格',
  `sell_price` decimal(10,2) DEFAULT NULL COMMENT '订单销售价格',
  `status` varchar(10) DEFAULT NULL COMMENT '订单状态（ordenNewStatus）',
  `create_time` varchar(32) DEFAULT NULL COMMENT '订单创建时间',
  `submit_time` varchar(32) DEFAULT NULL COMMENT '订单提交时间',
  `template_id` varchar(32) DEFAULT NULL COMMENT '模板id(模板下单使用)',
  `type` varchar(10) DEFAULT NULL COMMENT '类型（orderType普通01、首批02、二次换样03、点样04、手机点样预提交05、扫码点样06、自动补充07、云锦转单08）',
  `design` varchar(10) DEFAULT NULL COMMENT '普通设计：0、高级设计：1',
  `vertical` varchar(10) DEFAULT NULL COMMENT '垂工艺（1是0否）',
  `audit_date` varchar(20) DEFAULT NULL COMMENT '跟单审核日期  imds推送',
  `fold_times` decimal(10,2) DEFAULT NULL COMMENT '用料倍数',
  `flower_part` varchar(100) DEFAULT NULL COMMENT '对花部位（部位编码）',
  `ugap` decimal(10,2) DEFAULT NULL COMMENT '实际花距',
  `fold_num` decimal(10,2) DEFAULT NULL COMMENT '单片褶皱个数',
  `hight` decimal(10,3) DEFAULT NULL COMMENT '高度',
  `width` decimal(10,3) DEFAULT NULL COMMENT '宽度',
  `style_size` varchar(32) DEFAULT NULL COMMENT '型号',
  `img_path` varchar(255) DEFAULT NULL COMMENT '款式图片地址',
  `flower_type` varchar(32) DEFAULT NULL COMMENT '对花方式(flowers)',
  `multiple` varchar(30) DEFAULT NULL COMMENT '参考倍数',
  `flower_spur` varchar(30) DEFAULT NULL COMMENT '环距/褶距',
  `open_number` varchar(10) DEFAULT NULL COMMENT '开数',
  `left_wrap` varchar(30) DEFAULT NULL COMMENT '左包角',
  `right_wrap` varchar(30) DEFAULT NULL COMMENT '右包角',
  `have_line` varchar(10) DEFAULT NULL COMMENT '是否有里布(1是0否)',
  `frame` varchar(10) DEFAULT NULL COMMENT '框内/外（in框内 out框外）',
  `hang` varchar(255) DEFAULT NULL COMMENT '悬挂方式（打环、带钩）',
  `bottom` varchar(255) DEFAULT NULL COMMENT '底部制作（底宽）',
  `tie` varchar(255) DEFAULT NULL COMMENT '绑带（有、无、B绑、c绑）',
  `img2_path` varchar(255) DEFAULT NULL COMMENT '附件图片',
  `is_return` varchar(2) DEFAULT NULL COMMENT '是否可退换',
  `delivery` varchar(2) DEFAULT NULL COMMENT '发货方式(deliveryWay)',
  `waybill_no` varchar(255) DEFAULT NULL COMMENT '运单号',
  `delivery_date` varchar(30) DEFAULT NULL COMMENT '发货日期',
  `orden s_dgc_code` varchar(255) DEFAULT NULL COMMENT '订单分配标志',
  `expresscompanyno` varchar(255) DEFAULT NULL COMMENT '快递公司',
  `express` varchar(255) DEFAULT NULL COMMENT '快递公司',
  `contact` varchar(255) DEFAULT NULL COMMENT '联系人(废弃)',
  `tel` varchar(255) DEFAULT NULL COMMENT '联系方式',
  `address` varchar(255) DEFAULT NULL COMMENT '发货地址',
  `attach` varchar(255) DEFAULT NULL COMMENT '是否热胶（1：是；0：否）',
  `attach_type` varchar(255) DEFAULT NULL COMMENT '热胶分类（1：胚布热胶；2：成品热胶）',
  `cut_desc` varchar(255) DEFAULT NULL COMMENT '墙布分段信息',
  `is_yl` tinyint(1) DEFAULT '0' COMMENT '是否余料单(1是0否)',
  `relation_orden_no` varchar(32) DEFAULT NULL COMMENT '余料主动关联的订单号（主动）',
  `passive_orden_no` varchar(1000) DEFAULT NULL COMMENT '余料被动关联的订单号（被动）',
  `rjsy_ratio` decimal(10,2) DEFAULT NULL COMMENT '如鱼得水比例',
  `ryt_ratio` decimal(10,2) DEFAULT NULL COMMENT '如鱼图比例',
  `is_select_param` varchar(20) DEFAULT NULL COMMENT '是否点选参数',
  `main_product` varchar(255) DEFAULT NULL COMMENT '主布面料号',
  `s_hotglue_cancel_flag` varchar(50) DEFAULT NULL COMMENT '取消墙布热胶标记',
  `is_charge` varchar(2) DEFAULT NULL COMMENT '是否扣款',
  `original_custom_order_no` varchar(32) DEFAULT NULL COMMENT '原单号(不为空则为修改帘)',
  `reject_remark` varchar(500) DEFAULT NULL COMMENT '驳回小单备注',
  `modify_count` int(11) DEFAULT NULL COMMENT '修改次数（店长提交后被退回后修改的次数，主动撤回也算）',
  `s_dgc_code` int(1) DEFAULT '0' COMMENT '工厂类型',
  `sf_ratio` varchar(255) DEFAULT NULL COMMENT '上浮比例',
  `fran_owner_type` varchar(255) DEFAULT NULL COMMENT '加盟店类型',
  `bulk` tinyint(1) DEFAULT '0' COMMENT '大宗业务1是0否',
  `mmsj` tinyint(1) DEFAULT '0' COMMENT '明码实价1是0否',
  `fold_num_advanced` varchar(255) DEFAULT NULL,
  `product_set_name` varchar(255) DEFAULT NULL COMMENT '老系统成品套名称',
  `style_type` varchar(50) DEFAULT NULL COMMENT '款式类别（全配、竖配、横配、无配）',
  `b_sales_table` tinyint(1) DEFAULT '0' COMMENT '是否进业绩报表1是0否',
  `old_factory_price` decimal(10,2) DEFAULT NULL COMMENT '原订单出厂价(天猫店改价格用)',
  `b_mb_dh` tinyint(1) DEFAULT '0' COMMENT '模板订单是否含断货物料标记1是0否',
  `b_cxpz` tinyint(1) NOT NULL DEFAULT '0' COMMENT '【重新配置】标记，0不需要，1需要',
  `non_std` tinyint(1) DEFAULT NULL COMMENT '非标（1：不对称；0：对称）',
  `img2_path_full` varchar(255) DEFAULT NULL COMMENT '附件图片（全路径）',
  `is_modify` varchar(255) DEFAULT NULL COMMENT '自定义类型',
  `discount` varchar(255) DEFAULT NULL COMMENT '折扣',
  `s_transfer_id` varchar(200) DEFAULT NULL COMMENT '计算引擎输入输出标识id',
  `dt_plan_date` varchar(30) DEFAULT NULL COMMENT 'mes计划(发货)日期',
  `is_tk` tinyint(1) NOT NULL DEFAULT '0' COMMENT '成品米是否通款： 0锁款  1通款  2独款',
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT COMMENT='订单表';

//订单bom表
CREATE TABLE `orden_bom` (
  `id` varchar(32) NOT NULL COMMENT '订单bom表主键id',
  `orden_id` varchar(32) DEFAULT NULL COMMENT '订单表主键id',
  `craft_code` varchar(255) DEFAULT NULL COMMENT '工艺编码',
  `fabric_code` varchar(32) DEFAULT NULL COMMENT '物料编码',
  `fabric_name` varchar(255) DEFAULT NULL COMMENT '物料名称',
  `amount` decimal(10,3) DEFAULT NULL COMMENT '物料用量(原用量)',
  `make_type` varchar(255) DEFAULT NULL COMMENT '做法',
  `unit` varchar(255) DEFAULT NULL COMMENT '单位',
  `pair_num` int(11) DEFAULT NULL COMMENT '幅数',
  `factory_price_old` decimal(10,2) DEFAULT NULL COMMENT '物料出厂单价(原价)',
  `factory_price` decimal(10,2) DEFAULT NULL COMMENT '物料出厂单价',
  `is_d_h` varchar(255) DEFAULT NULL COMMENT '新增物料时对花 911',
  `cg_flag` varchar(2) DEFAULT NULL COMMENT '是否超高(超高标识0正常1超高工艺物料 2超高工艺接缝花边 3部位附加费 4工艺附加费 10只有工艺分类 5成品绑带 6半成品配饰)',
  `yldh` varchar(255) DEFAULT NULL COMMENT '余料单号',
  `factory_sum_price_old` decimal(10,2) DEFAULT NULL COMMENT '物料出厂小计(原价)',
  `factory_sum_price` decimal(10,2) DEFAULT NULL COMMENT '物料出厂小计',
  `fw_sum_price_old` decimal(10,2) DEFAULT NULL COMMENT '服务费小计(原价)',
  `fw_sum_price` decimal(10,2) DEFAULT NULL COMMENT '服务费小计',
  `factory_total_price_old` decimal(10,2) DEFAULT NULL COMMENT '出厂合计(原价)',
  `factory_total_price` decimal(10,2) DEFAULT NULL COMMENT '出厂合计',
  `remark` varchar(255) DEFAULT NULL COMMENT '备注',
  `sell_price_old` decimal(10,2) DEFAULT NULL COMMENT '物料销售单价(原价)',
  `sell_price` decimal(10,2) DEFAULT NULL COMMENT '物料销售单价',
  `sell_sum_price_old` decimal(10,2) DEFAULT NULL COMMENT '销售小计(原价)',
  `sell_sum_price` decimal(10,2) DEFAULT NULL COMMENT '销售小计',
  `zdyxc_code` varchar(30) DEFAULT NULL COMMENT '自定义线材工艺编码',
  `relation_orden_id_initiative` varchar(32) DEFAULT NULL COMMENT '余料关联订单id(主动)',
  `relation_orden_bom_id_initiative` varchar(32) DEFAULT NULL COMMENT '余料关联orden_bom的id(主动)',
  `relation_orden_id_passive` varchar(32) DEFAULT NULL COMMENT '余料关联订单id(被动)',
  `relation_orden_bom_id_passive` varchar(32) DEFAULT NULL COMMENT '余料关联orden_bom的id(被动)',
  `origin_factory_total_price` decimal(10,2) DEFAULT NULL COMMENT '未打折扣出厂合计',
  `origin_sell_sum_price` decimal(10,2) DEFAULT NULL COMMENT '未打折扣销售小计',
  `is_main_fabric` int(1) DEFAULT NULL COMMENT '是否主布 1是0否',
  `amount_old` decimal(10,2) DEFAULT NULL COMMENT '物料用量(原用量)',
  `pos` varchar(10) DEFAULT NULL COMMENT '开数',
  `hbpos` varchar(255) DEFAULT NULL COMMENT '合并开数标示',
  `syljj` varchar(255) DEFAULT NULL,

) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT COMMENT='bom清单表';